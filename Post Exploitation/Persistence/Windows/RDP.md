
### Persistence Via RDP

1. Gain initial access and elevate the privileges if not in the administrator group. 

2. We need to migrate to a stable process such as `explorer.exe` in order to use the persistence techniques. 

3. Firstly, we need to create a new backdoor user account and hide it from the Windows login screen. We'll also add the user to the administrator group and the remote desktop users group, which allows users to login via RDP. Finally we'll enable the RDP service if it's disabled. To all perform this, we can run the following command in the `meterprter` shell.
```
run getgui -e -u <new-user> -p <new-pass>
```

4. We can now exit out of `MSF` and login via RDP using the new user account. If successful we should obtain a RDP session with administrator privileges. 
```
xfreerdp /u:<username> /p:<password> /v:<target-ip>
```

5. This technique can be detected by the system administrator with the `net user` CMD command to check the list of users in the system. 