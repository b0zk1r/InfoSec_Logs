
### Linux Password Hashes

- Refer to [[eJPT Notes/Exploitation/Linux/Password Hashes|Password Hashes]] for basics.

### How to crack ?

1. Gain initial access. Upgrade the session to `meterpreter`.

2. Check the contents of the `etc/shadow` file. In our case, the value encapsulated by the dollar symbol after the username `root` is 6, this indicates that the root password is encrypted with SHA-512 hashing algorithm. 

3. Now we can use the `hashdump` module for Linux.
```
use post/linux/gather/hashdump
```

4. The module will provide us with the un-shadowed password file saved in the loot directory containing the password hash of root. Copy the file to Desktop for easy access.

5. We can now brute force the hash using `JohnTheRipper`.
```
john --format=sha512crypt <hash-file> --wordlist=<path>
```

6. We can also use `hashcat` to crack the hash. 
```
hashcat -a3 -m 1800 <hash-file> <wordlist-path> 
```