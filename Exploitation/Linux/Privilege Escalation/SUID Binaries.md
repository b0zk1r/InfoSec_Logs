
- In addition to the three main file access permissions (read, write and execute), Linux also provides users with specialized permissions that can be utilized in specific situations. One of these access permissions is the SUID (Set Owner User ID) permission.

- When applied, this permission provides users with the ability to execute a script or binary with the permissions of the file owner as opposed to the user that is running the script or binary.

- SUID permissions are typically used to provide unprivileged users with the ability to run specific scripts or binaries with “root” permissions. It is to be noted, however, that the provision of elevate privileges is limited to the execution of the script and does not translate to elevation of privileges, however, if improperly configured unprivileged users can exploit misconfigurations or vulnerabilities within the binary or script to obtain an elevated session. 

### Exploiting SUID Binaries

- This is the functionality that we will be attempting to exploit in order to elevate our  privileges, however, the success of our attack will depend on the following factors: 
	+ Owner of the SUID binary — Given that we are attempting to elevate our privileges, we will only be exploiting SUID binaries that are owned by the “root” user or other privileged users. 
	+ Access permissions — We will require executable permissions in order to execute the SUID binary.

### Steps to exploit

1. Get initial access.
2. Look for binaries with SUID  and execute permissions.
	+ A file with SUID and execute permission will have `-s` in their owner permissions and `x` in the other user permissions. We can check that by using `ls -la` command.
3. If we find such a binary, we can learn more about it using `file <filename>`
4. We can also look for strings in the binary using `strings <filename>`
5. In our lab environment, we can see that the binary `welcome` has a string `greetings` in it, which essentially indicates that it calls out the `greetings` binary when it executes. The `greetings` binary has root privileges. 
6. We can simply remove the `greetings` binary and create our own malicious `greetings` binary which will give us root privileges. `rm greetings`
7. We will copy the contents of /bin/bash to `greetings`. This will essentially create a bash binary called `greetings` 
8. Now because the `welcome` binary calls upon the `greetings` binary, it'll execute bash with root privileges which will consequently provide us with a root bash session with elevated privileges.  `./welcome`
9. We can confirm that we have root by running`id` or `cat /etc/shadow`. 