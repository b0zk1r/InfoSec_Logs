
### What is `Shellter` ?

- Shellter is a dynamic shellcode injection tool, and the first truly dynamic PE (Portable Executable) infector ever created.

- It can be used in order to inject shellcode into native Windows applications.

- The shellcode can be something yours or something generated through a framework, such as Metasploit.

- Shellter takes advantage of the original structure of the PE file and doesnâ€™t apply any modification such as changing memory access permissions in sections (unless the user wants), adding an extra section with RWE access, and whatever would look dodgy under an AV scan.

### How to install `Shellter`?

1. First install the `shellter` package.
```
sudo apt-get install shellter -y
```

2. `Shellter` only supports generation of 32 bit shell-codes, we need to configure the `dpkg` utility to allow us to install 32 bit packages. By default the `dpkg` is only configured to install 64 bit packages. This is needed so that we can install the 32 bit package of Wine in the next step. 
```
sudo dpkg --add-architecture i386
```

3. Since `shellter` is an `exe` file, we need to install `wine32` to be able to run it. Wine is a compatibility layer capable of running Windows applications on Linux. 
```
sudo apt-get install wine32
```

### How to use `Shellter` ?

1. Create a new directory and move the legitimate executable in which we want to inject our payload into it. We can find an executable for testing in the `/usr/share/windows-binaries` directory.

2. The `shellter.exe` file should be saved in `/usr/share/windows-resources/shellter`, we can navigate to that directory and run `shellter.exe` using `wine32`. 
```
sudo wine shellter.exe
```

2. After running, we'll have to configure a few options:
	+ Set `Operation Mode` as `A` (Automatic)
	+ Set `PE Target` (Portable Executable Target) to the path of the legitimate executable file in which we want to inject our payload into.
	+ Set `Stealth Mode` to `Y` as we also want the actual executable to function normally in order to avoid suspicion. 
	+ Now we'll be asked to set our Payload. We can use one of the listed payloads `L` or we can also use a custom payload. `C` 
	+ It'll now ask for the LHOST and LPORT.

3. Once we've configured all the required options and successfully created the payload, we can send the payload to the target machine and setup our `multi/handler`. Once the victim clicks it, the legitimate application should work as intended but the malicious payload should run in the background and we should obtain a `meterpreter` session on the target system. 