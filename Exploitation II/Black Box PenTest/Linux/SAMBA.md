
### How to exploit SAMBA in a black box PenTest ?

1. We'll first enumerate the Samba version. To do this, we can do a `NMAP` scan on port 445 of the target. 

2. We can also use `nc` to grab banner off port 445 in order enumerate the Samba version.

3. Or we can use the `smb_version` metasploit module. This should provide us with the exact version of SAMBA. 

4. We can now use `searchsploit` to look up exploits for this version of SAMBA. 

5. In our case, this SAMBA version is vulnerable to command execution. A `MSF` module is available to exploit this vulnerability. Exploiting this should provide us with root access to the target system. 
```
use exploit/multi/samba/usermap_script
```

6. With this module we should obtain a standard reverse shell connection. We can upgrade it to a meterpreter shell as well. 